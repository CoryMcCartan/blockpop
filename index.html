<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Estimate Census Block Populations for 2020 • blockpop</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Estimate Census Block Populations for 2020">
<meta property="og:description" content="Uses FCC block-level population estimates from 2010--2019, which
    are based on new roads and map data, along with decennial Census and ACS 
    data, to estimate 2020 block populations.">
<meta property="og:image" content="https://corymccartan.github.io/blockpop/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-79274202-5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-79274202-5');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">blockpop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/harmonization.html">ACS-Decennial-Block Harmonization</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/CoryMcCartan/blockpop/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="blockpop-estimate-census-block-populations-for-2020-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#blockpop-estimate-census-block-populations-for-2020-" class="anchor"></a><strong>blockpop</strong>: Estimate Census Block Populations for 2020 <a href="https://corymccartan.github.io/blockpop"><img src="reference/figures/logo.png" align="right" height="320"></a>
</h1></div>
<!-- badges: start -->

<p>2020 Census data is delayed and will be affected by differential privacy. This package uses FCC block-level population estimates from 2010–2019, which are based on new roads and map data, along with decennial Census and ACS data, to estimate 2020 block populations, both overall and by major race/ethnicity categories (using iterative proportional fitting).</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"CoryMcCartan/blockpop"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>We start by downloading the FCC data locally (although you can skip this step if you just want estimates for one state).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://corymccartan.github.io/blockpop">blockpop</a></span><span class="op">)</span>
<span class="fu"><a href="reference/bl_download_fcc.html">bl_download_fcc</a></span><span class="op">(</span><span class="st">"data-raw/fcc.csv"</span><span class="op">)</span></code></pre></div>
<p>Then we can extract the data for the state we care about and construct the 2020 block estimates.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="va">fcc_d</span> <span class="op">=</span> <span class="fu"><a href="reference/bl_load_state.html">bl_load_state</a></span><span class="op">(</span><span class="st">"WA"</span>, <span class="st">"data-raw/fcc.csv"</span><span class="op">)</span>
<span class="va">block_d</span> <span class="op">=</span> <span class="fu"><a href="reference/bl_est_2020.html">bl_est_2020</a></span><span class="op">(</span><span class="va">fcc_d</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">block_d</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 195,574 x 4</span>
<span class="co">#&gt;    state block           pop2010 pop2020</span>
<span class="co">#&gt;    &lt;fct&gt; &lt;chr&gt;             &lt;dbl&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt;  1 WA    530019501001000       0       0</span>
<span class="co">#&gt;  2 WA    530019501001001       0       0</span>
<span class="co">#&gt;  3 WA    530019501001002       0       0</span>
<span class="co">#&gt;  4 WA    530019501001003       0       0</span>
<span class="co">#&gt;  5 WA    530019501001004       0       0</span>
<span class="co">#&gt;  6 WA    530019501001005       0       0</span>
<span class="co">#&gt;  7 WA    530019501001006       0       0</span>
<span class="co">#&gt;  8 WA    530019501001007       0       0</span>
<span class="co">#&gt;  9 WA    530019501001008       0       0</span>
<span class="co">#&gt; 10 WA    530019501001009       0       0</span>
<span class="co">#&gt; # … with 195,564 more rows</span>
<span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span><span class="va">block_d</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"pop"</span><span class="op">)</span>, <span class="va">sum</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   pop2010  pop2020</span>
<span class="co">#&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 6724540 7715946.</span></code></pre></div>
<p>To add populations by race and ethnicity, we need to download ACS and 2010 Census data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">acs_d</span> <span class="op">=</span> <span class="fu"><a href="reference/bl_download_acs_vars.html">bl_download_acs_vars</a></span><span class="op">(</span><span class="st">"WA"</span><span class="op">)</span>
<span class="va">census_d</span> <span class="op">=</span> <span class="fu"><a href="reference/bl_download_2010_vars.html">bl_download_2010_vars</a></span><span class="op">(</span><span class="st">"WA"</span><span class="op">)</span></code></pre></div>
<p>Then we call <code><a href="reference/bl_harmonize_vars.html">bl_harmonize_vars()</a></code> to create block-level estimates that still total to 2020 block populations and are close to ACS estimates at the block group level.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/bl_harmonize_vars.html">bl_harmonize_vars</a></span><span class="op">(</span><span class="va">block_d</span>, <span class="va">census_d</span>, <span class="va">acs_d</span><span class="op">)</span>
<span class="co">#&gt; ℹ Joining tables.</span>
<span class="co">#&gt; ℹ Harmonizing counts.</span>
<span class="co">#&gt; # A tibble: 195,574 x 22</span>
<span class="co">#&gt;    state block      pop2010 pop2020 vap2010 vap2020 pop_aian pop_asian pop_black</span>
<span class="co">#&gt;    &lt;fct&gt; &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt;  2 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt;  3 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt;  4 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt;  5 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt;  6 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt;  7 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt;  8 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt;  9 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt; 10 WA    530019501…       0       0       0       0        0         0         0</span>
<span class="co">#&gt; # … with 195,564 more rows, and 13 more variables: pop_hisp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pop_nhpi &lt;dbl&gt;, pop_other &lt;dbl&gt;, pop_two &lt;dbl&gt;, pop_white &lt;dbl&gt;,</span>
<span class="co">#&gt; #   vap_aian &lt;dbl&gt;, vap_asian &lt;dbl&gt;, vap_black &lt;dbl&gt;, vap_hisp &lt;dbl&gt;,</span>
<span class="co">#&gt; #   vap_nhpi &lt;dbl&gt;, vap_other &lt;dbl&gt;, vap_two &lt;dbl&gt;, vap_white &lt;dbl&gt;</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/CoryMcCartan/blockpop/">https://​github.com/​CoryMcCartan/​blockpop/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/CoryMcCartan/blockpop/issues">https://​github.com/​CoryMcCartan/​blockpop/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Cory McCartan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0002-6251-669X" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/CoryMcCartan/blockpop/actions"><img src="https://github.com/CoryMcCartan/blockpop/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Cory McCartan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
